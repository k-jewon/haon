<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE  mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.haon.pay.client.PayClientDAO">
	<select id="mypayList" parameterType="Pay" resultType="Pay">
	select p.pay_id, a.room_id, a.book_id, a.book_checkIn, a.book_checkOut, p.pay_payment, p.pay_price, p.pay_date, p.pay_static
	from haon_pay p join haon_book a on p.user_id=a.user_id order by p.pay_id desc
	</select>
	<insert id="paySucceed" parameterType="Pay">
	insert into haon_pay (pay_id, user_id, room_id, book_id, pay_payment, pay_price)
	values (#{pay_id}, #{user_id}, 1, #{book_id}, #{pay_payment}, #{pay_price})
	</insert>
</mapper>